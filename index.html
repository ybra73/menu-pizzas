<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Men칰 de Pizzas</title>
  <style>
    body { margin: 0; padding: 1rem; background: #111; }
    .menu-container { max-width: 960px; margin: 0 auto; padding: 1rem; font-family: system-ui, sans-serif; background: #1b1b1b; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,.35); }
    .menu-header { text-align: center; margin-bottom: 1.5rem; }
    .menu-header h2 { font-size: 2rem; margin: 0 0 .25rem; color: #f5f5f5; }
    .menu-header p { font-size: .95rem; color: #bdbdbd; margin: 0; }
    .pizza-item { display: flex; gap: 1rem; align-items: center; padding: 1rem 0; border-bottom: 1px solid #333; }
    .pizza-item:last-child { border-bottom: 0; }
    .pizza-item img { width: 120px; height: 120px; object-fit: cover; border-radius: 10px; flex-shrink: 0; }
    .pizza-details { flex: 1; }
    .pizza-details h3 { margin: 0 0 .35rem; font-size: 1.2rem; color: #ff6b6b; }
    .pizza-details p { margin: .15rem 0; color: #e6e6e6; font-size: .9rem; }
    .price-row { display: flex; flex-wrap: wrap; gap: .5rem; margin-top: .5rem; }
    .pill {
      background: #262626; border: 1px solid #3a3a3a; padding: .4rem .8rem;
      border-radius: 999px; color: #d9ffd9; font-weight: 700; font-size: .95rem;
      cursor: pointer; text-decoration: none; display: inline-flex; align-items: center;
      gap: .3rem; transition: background 0.2s, transform 0.1s;
    }
    .pill:hover { background: #25d366; color: #fff; border-color: #25d366; transform: scale(1.05); }
    .pill:active { transform: scale(0.97); }
    .pill small { color: #a0a0a0; font-weight: 400; margin-right: .3rem; }
    .pill:hover small { color: #d0ffd0; }
    .pill .wp-icon { width: 16px; height: 16px; opacity: 0.7; }
    .updated-at { text-align: center; color: #666; font-size: .8rem; margin-top: 1rem; }
    .loading { text-align: center; color: #bdbdbd; padding: 2rem; }
    .error { text-align: center; color: #ffd6d6; padding: 2rem; }
    .whatsapp-float { position: fixed; width: 60px; height: 60px; bottom: 20px; right: 20px; background-color: #25d366; border-radius: 50%; box-shadow: 0 2px 6px rgba(0,0,0,0.3); z-index: 999; display: flex; align-items: center; justify-content: center; transition: transform 0.2s ease; }
    .whatsapp-float:hover { transform: scale(1.08); }
    .whatsapp-float img { width: 35px; height: 35px; }
    @media (max-width: 640px) { .pizza-item { align-items: flex-start; } .pizza-item img { width: 90px; height: 90px; } }
  </style>
</head>
<body>

<div class="menu-container">
  <div class="menu-header">
    <h2>游꼣 Men칰 de Pizzas</h2>
    <p>AUT칄NTICAS PIZZAS ARTESANALES ITALIANAS<br>
    Hechas con masa casera, ingredientes frescos y ese sabor que te hace volver una y otra vez. <strong style="color:#ff6b6b">DELIVERY GRATIS</strong></p>
    <p style="margin-top:.5rem;color:#a0a0a0;font-size:.85rem">游녡 Toca el precio para hacer tu pedido por WhatsApp</p>
  </div>
  <div id="pizzaList" class="loading">Cargando men칰...</div>
  <div class="updated-at" id="updatedAt"></div>
</div>

<a href="https://wa.me/584264014765?text=Hola,%20quiero%20hacer%20un%20pedido%20de%20pizza%20游꼣"
   target="_blank" class="whatsapp-float" title="Pedir por WhatsApp">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
</a>

<script>
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz6E4A2NfCdgK6Yx37ySidD_JYUctZ4QZ9pKMF5XTg86a8_FIm1HmZgKPwtGe89Vet6/exec';
const WA_NUMBER = '584264014765';
const IMG_DEFAULT = 'https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=300&q=80';

const META = {
  "Margherita Romana": {
    desc: "Salsa napolitana, mozzarella, jam칩n.",
    img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=300&q=80"
  },
  "Primavera Napolitana": {
    desc: "Salsa napolitana, mozzarella, jam칩n, ma칤z.",
    img: "https://images.unsplash.com/photo-1555072956-7758afb20e8f?w=300&q=80"
  },
  "Vegetariana Milanesa": {
    desc: "Salsa napolitana, mozzarella, champi침ones, aceitunas, piment칩n.",
    img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&q=80"
  },
  "Peperoni Siciliana": {
    desc: "Salsa napolitana, mozzarella, pepperoni.",
    img: "https://images.unsplash.com/photo-1628840042765-356cda07504e?w=300&q=80"
  },
  "Pizza Della Casa": {
    desc: "Salsa napolitana, mozzarella, jam칩n y pepperoni.",
    img: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=300&q=80"
  },
  "Hawaiana Vesuviana": {
    desc: "Salsa napolitana, mozzarella, jam칩n y pi침a.",
    img: "https://images.unsplash.com/photo-1565299507177-b0ac66763828?w=300&q=80"
  },
  "Ma칤z Florentina": {
    desc: "Salsa napolitana, mozzarella, jam칩n y ma칤z.",
    img: "https://images.unsplash.com/photo-1590947132387-155cc02f3212?w=300&q=80"
  },
  "Capresa Marianella": {
    desc: "Salsa napolitana, mozzarella, tomate y jam칩n.",
    img: "https://images.unsplash.com/photo-1594007654729-407eedc4be65?w=300&q=80"
  },
  "Pollo Toscano": {
    desc: "Salsa napolitana, mozzarella, jam칩n, pollo, tocineta, ma칤z.",
    img: "https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?w=300&q=80"
  }
};

function formatBs(valor) {
  if (!valor && valor !== 0) return 'N/D';
  const num = parseFloat(String(valor).replace(/[^0-9.]/g, ''));
  if (isNaN(num)) return String(valor);
  return 'Bs ' + Math.round(num).toLocaleString('es-VE');
}

function waLink(nombre, tamano, precio) {
  const msg = '游꼣 Hola! Quiero pedir:\n\n' +
              '郊쀮잺 Pizza: ' + nombre + '\n' +
              '郊쀮잺 Tama침o: ' + tamano + '\n' +
              '郊쀮잺 Precio: ' + precio + '\n\n' +
              '쮼st치 disponible? 游땕';
  return 'https://wa.me/' + WA_NUMBER + '?text=' + encodeURIComponent(msg);
}

function renderPizzas(data) {
  const lista = document.getElementById('pizzaList');
  lista.className = '';
  lista.innerHTML = '';

  data.forEach(pizza => {
    const meta = META[pizza.nombre] || { desc: 'Pizza artesanal.', img: IMG_DEFAULT };
    const p20 = formatBs(pizza.p20);
    const p35 = formatBs(pizza.p35);

    const div = document.createElement('div');
    div.className = 'pizza-item';
    div.innerHTML =
      '<img src="' + meta.img + '" alt="' + pizza.nombre + '" onerror="this.src=\'' + IMG_DEFAULT + '\'">' +
      '<div class="pizza-details">' +
        '<h3>' + pizza.nombre + '</h3>' +
        '<p>' + meta.desc + '</p>' +
        '<div class="price-row">' +
          '<a class="pill" href="' + waLink(pizza.nombre, '20 cm', p20) + '" target="_blank">' +
            '<small>20 cm</small>' + p20 +
            ' <img class="wp-icon" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg">' +
          '</a>' +
          '<a class="pill" href="' + waLink(pizza.nombre, '35 cm', p35) + '" target="_blank">' +
            '<small>35 cm</small>' + p35 +
            ' <img class="wp-icon" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg">' +
          '</a>' +
        '</div>' +
      '</div>';
    lista.appendChild(div);
  });

  document.getElementById('updatedAt').textContent =
    'Actualizado: ' + new Date().toLocaleString('es-VE');
}

function cargarPizzas() {
  fetch(SCRIPT_URL)
    .then(r => r.json())
    .then(data => {
      if (!Array.isArray(data) || data.length === 0) throw new Error('Sin datos');
      renderPizzas(data);
    })
    .catch(err => {
      console.error(err);
      document.getElementById('pizzaList').className = 'error';
      document.getElementById('pizzaList').textContent = 'Error al cargar el men칰. Recarga la p치gina.';
    });
}

cargarPizzas();
setInterval(cargarPizzas, 5 * 60 * 1000);
</script>

</body>
</html>
